<mat-toolbar color="primary">Avaiable Users: {{ users.length }}</mat-toolbar>

<div class="container-xl">
  <div class="table-responsive">
      <div class="table-wrapper">
          <div class="table-title">
              <div class="row">
                  <div class="col-sm-8"><h2>Customer <b>Details</b></h2></div>
                  <div class="col-sm-4">
                      <div class="search-box">
                          <i class="material-icons">&#xE8B6;</i>
                          <input type="text" class="form-control" placeholder="Search&hellip;">
                      </div>
                  </div>
              </div>
          </div>
          <table class="table table-striped table-hover table-bordered">
              <thead>
                  <tr>
                      <th># <i class="fa fa-sort"></i></th>
                      <th>First Name <i class="fa fa-sort"></i></th>
                      <th>Last Name <i class="fa fa-sort"></i></th>
                      <th>Email <i class="fa fa-sort"></i></th>
                      <th>Username <i class="fa fa-sort"></i></th>
                      <th>Role <i class="fa fa-sort"></i></th>
                      <th>Photo <i class="fa fa-sort"></i></th>
                      <th>Actions</th>
                  </tr>
              </thead>
              <tbody *ngIf="users">
                  <tr *ngFor="let user of users; let i = index" class="group">
                      <td>{{ i }}</td>
                      <td>{{ user['firstName'] }}</td>
                      <td>{{ user['lastName'] }}</td>
                      <td>{{ user['email'] }}</td>
                      <td>{{ user['username'] }}</td>
                      <td>{{ user['role'] }}</td>
                      <td *ngIf="user.photo">{{ user['photo']['url'] }}</td>

                      <td>
                          <a (click)="getUserById(user['_id'])" class="view" title="View" data-toggle="tooltip" role="button"><i class="material-icons">&#xE417;</i></a>
                          <a (click)="editUser(user['_id'])" class="edit" title="Edit" data-toggle="tooltip"><i class="material-icons" role="button">&#xE254;</i></a>
                          <a (click)="removeUser(user['_id'])" class="delete" title="Delete" data-toggle="tooltip" role="button"><i class="material-icons">&#xE872;</i></a>
                      </td>
                  </tr>
              </tbody>
          </table>
          <!-- <div class="clearfix">
              <div class="hint-text">Showing <b>5</b> out of <b>25</b> entries</div>
              <ul class="pagination">
                  <li class="page-item disabled"><a href="#"><i class="fa fa-angle-double-left"></i></a></li>
                  <li class="page-item"><a href="#" class="page-link">1</a></li>
                  <li class="page-item"><a href="#" class="page-link">2</a></li>
                  <li class="page-item active"><a href="#" class="page-link">3</a></li>
                  <li class="page-item"><a href="#" class="page-link">4</a></li>
                  <li class="page-item"><a href="#" class="page-link">5</a></li>
                  <li class="page-item"><a href="#" class="page-link"><i class="fa fa-angle-double-right"></i></a></li>
              </ul>
          </div> -->
      </div>
  </div>
</div>


<!-- new -->







<h1>Users</h1>
<a routerLink="add" class="btn btn-sm btn-success mb-2">Add User</a>
<table class="table table-striped">
    <thead>
        <tr>
            <th style="width: 30%">Name</th>
            <th style="width: 30%">Email</th>
            <th style="width: 30%">Role</th>
            <th style="width: 10%"></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let user of users">
            <td>{{user.title}} {{user.firstName}} {{user.lastName}}</td>
            <td>{{user.email}}</td>
            <td>{{user.role}}</td>
            <td style="white-space: nowrap">
                <a routerLink="edit/{{user.id}}" class="btn btn-sm btn-primary mr-1">Edit</a>
                <button (click)="deleteUser(user.id)" class="btn btn-sm btn-danger btn-delete-user" [disabled]="user.isDeleting">
                    <span *ngIf="user.isDeleting" class="spinner-border spinner-border-sm"></span>
                    <span *ngIf="!user.isDeleting">Delete</span>
                </button>
            </td>
        </tr>
        <tr *ngIf="!users">
            <td colspan="4" class="text-center">
                <span class="spinner-border spinner-border-lg align-center"></span>
            </td>
        </tr>
    </tbody>
</table>











<!-- new -->


























<!-- <table id="table"
data-toggle="table"
data-height="460"
data-search="true"
data-ajax="ajaxRequest"
data-side-pagination="server"
data-pagination="true">
<thead>
  <tr>
      <th># <i class="fa fa-sort"></i></th>
      <th>First Name <i class="fa fa-sort"></i></th>
      <th>Last Name <i class="fa fa-sort"></i></th>
      <th>Email <i class="fa fa-sort"></i></th>
      <th>Username <i class="fa fa-sort"></i></th>
      <th>Role <i class="fa fa-sort"></i></th>
      <th>Actions</th>
  </tr>
</thead>
<tbody>
  <tr *ngFor="let user of users; let i = index" class="group">
      <td>{{ i }}</td>
      <td>{{ user['firstName'] }}</td>
      <td>{{ user['lastName'] }}</td>
      <td>{{ user['email'] }}</td>
      <td>{{ user['username'] }}</td>
      <td>{{ user['role'] }}</td>

      <td>
          <a href="#" class="view" title="View" data-toggle="tooltip"><i class="material-icons">&#xE417;</i></a>
          <a href="#" class="edit" title="Edit" data-toggle="tooltip"><i class="material-icons">&#xE254;</i></a>
          <a href="#" class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
      </td>
  </tr>
</tbody>
</table> -->

<app-footer></app-footer>








<script>
  $(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
  });


  // Modify table
function ajaxRequest(params) {

// data you may need
console.log(params.data);

$.ajax({
    type: "POST",
    url: "http://localhost:8888/users",
    data: "user-id=1",
// You are expected to receive the generated JSON (json_encode($data))
    dataType: "json",
    success: function (data) {
        params.success({
// By default, Bootstrap table wants a "rows" property with the data
            "rows": data,
// You must provide the total item ; here let's say it is for array length
            "total": data.length
        })
    },
    error: function (er) {
        params.error(er);
    }
});
}

</script>
